var Site=Site||{};Site.ajax=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status)return e.responseText},e.open("GET",t,!0),e.send(null)};var Site=Site||{};Site.a={initAnimations:function(){document.querySelector(".modal .close").onclick=closeModal,document.getElementById("show-modal").onclick=showModal},showModal:function(){document.querySelector("html").classList.add("modal-window")},closeModal:function(t){document.querySelector("html").classList.remove("modal-window"),t.stopPropagation()},animateLoading:function(t){document.getElementById("post-list").disabled=t,t?document.getElementsByClassName("spinner")[0].classList.remove("display-none"):document.getElementsByClassName("spinner")[0].classList.add("display-none")}};var Site=Site||{};Site.data=function(){function t(t,e){var n=JSON.parse(Site.ajax(t));e(n)}var e={root:"http://jsonplaceholder.typicode.com",one:"/posts/",many:"/posts"};return{setURLs:function(t){e.root=t.root?t.root:e.root,e.one=t.one?t.one:e.one,e.many=t.many?t.many:e.many},getPosts:function(n){t(e.root+e.many,n)},getSinglePost:function(n,o){t(e.root+e.one+n,o)}}}();var Site=Site||{};Site.main=function(){function t(t,e,n){var o=document.createElement("option");o.text=n,o.value=e,t.appendChild(o)}function e(){var t=this.options[this.selectedIndex].value;if(t){var e=document.getElementById("post");e.querySelector("h2").innerHTML="",e.querySelector("p").innerHTML="",Site.a.animateLoading(!0),Site.data.getSinglePost(t,n.printPost)}}var n={init:function(){Site.a.animateLoading(!0),Site.data.getPosts(this.printPostList),Site.a.initAnimations()},printPostList:function(n){var o=document.getElementById("post-list");o.innerHTML="",Site.a.animateLoading(!1),t(o,"","");for(var i=0;i<n.length;i++){var a=n[i];t(o,a.id,a.title)}o.onchange=e,o.disabled=!1},printPost:function(t){var e=document.getElementById("post");Site.a.animateLoading(!1),e.querySelector("h2").innerHTML=t.title,e.querySelector("p").innerHTML=t.body}};return n}(),document.addEventListener("DOMContentLoaded",Site.main.init);