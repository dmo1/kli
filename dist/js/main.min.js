var Site=Site||{};Site.ajax=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);t(e)}},n.open("GET",e,!0),n.send(null)};var Site=Site||{};Site.main=function(){function e(e){var o=document.getElementById("post-list");o.innerHTML="",s(!1),t(o,"","");for(var a=0;a<e.length;a++){var i=e[a];t(o,i.id,i.title)}o.onchange=n,o.disabled=!1}function t(e,t,n){var o=document.createElement("option");o.text=n,o.value=t,e.appendChild(o)}function n(){var e=this.options[this.selectedIndex].value;if(e){var t=document.getElementById("post");t.querySelector("h2").innerHTML="",t.querySelector("p").innerHTML="",s(!0),Site.ajax(l+"/posts/"+e,o)}}function o(e){var t=document.getElementById("post");s(!1),t.querySelector("h2").innerHTML=e.title,t.querySelector("p").innerHTML=e.body}function a(){document.querySelector("html").classList.add("modal-window")}function i(e){document.querySelector("html").classList.remove("modal-window"),e.stopPropagation()}function s(e){document.getElementById("post-list").disabled=e,e?document.getElementsByClassName("spinner")[0].classList.remove("display-none"):document.getElementsByClassName("spinner")[0].classList.add("display-none")}var l="http://jsonplaceholder.typicode.com";s(!0),Site.ajax(l+"/posts",e),document.querySelector(".modal .close").onclick=i,document.getElementById("show-modal").onclick=a}();