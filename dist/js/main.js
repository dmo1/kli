var Site=Site||{};Site.ajax=function(url,callback){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState&&200===xhr.status){var data=JSON.parse(xhr.responseText);callback(data)}},xhr.open("GET",url,!0),xhr.send(null)};var Site=Site||{};Site.main=function(){function printPostList(data){var $postList=document.getElementById("post-list");$postList.innerHTML="",animateLoading(!1),addOption($postList,"","");for(var i=0;i<data.length;i++){var element=data[i];addOption($postList,element.id,element.title)}$postList.onchange=getPost,$postList.disabled=!1}function addOption(select,value,text){var option=document.createElement("option");option.text=text,option.value=value,select.appendChild(option)}function getPost(){var id=this.options[this.selectedIndex].value;if(id){var $post=document.getElementById("post");$post.querySelector("h2").innerHTML="",$post.querySelector("p").innerHTML="",animateLoading(!0),Site.ajax(root+"/posts/"+id,printPost)}}function printPost(data){var $post=document.getElementById("post");animateLoading(!1),$post.querySelector("h2").innerHTML=data.title,$post.querySelector("p").innerHTML=data.body}function showModal(){document.querySelector("html").classList.add("modal-window")}function closeModal(event){document.querySelector("html").classList.remove("modal-window"),event.stopPropagation()}function animateLoading(shouldAnimate){document.getElementById("post-list").disabled=shouldAnimate,shouldAnimate?document.getElementsByClassName("spinner")[0].classList.remove("display-none"):document.getElementsByClassName("spinner")[0].classList.add("display-none")}var root="http://jsonplaceholder.typicode.com";animateLoading(!0),Site.ajax(root+"/posts",printPostList),document.querySelector(".modal .close").onclick=closeModal,document.getElementById("show-modal").onclick=showModal}();